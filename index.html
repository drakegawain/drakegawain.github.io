
<html>
	<head>
		<script type="text/javascript" src = './js/jquery-3.6.0.js'></script>
		<link rel='stylesheet' type='text/css' href='./css/main.css'>
		<title>
			Cronômetro Online
		</title>
	</head>
<body>
	<header class = "menu-dos-otarios">
		<main>
		<div class= 'header-1'>
			<div class = "logo-dos-otarios">
				<img src="./img/imagemdosotarios.png"/>
			 </div>
		</div>
		</main>
	</header>
	<header class = 'botao'>
		<main>
			<div class = 'botao-1'>
				<button	type = "button" id = 'botao1'	class = "thalesbutton" >Começar
				</button>
			</div>
			<div class = 'botao-2'>
				<button	type = "button"	id = 'botao2'class = "thalesbutton">Parar</button>
			</div>
			<div class = 'botao-3'>
				<button type = 'button' id = 'botao3'class= 'thalesbutton'>Reiniciar</button>
			</div>
		</main>
	</header>
	<header class = 'input-field'>
		<main>
			<div class = 'form'>
				<form action='startchrono' method='get' name = 'form-1'> 
					<div class = 'input-field-1'>
						<input id = 'input' type="text" name="chrono-input">
					</div>
				</form>
			</div>
		</main>
	</header>
	<header class= 'display-cronometro'>
		<main>
			<div class = 'cronometro-1'>
				<span id = 'timer' class = 'timer-1'>00:00:00
				</span>
			</div>
			<div class = 'script-cronometro'>
				<script type="text/javascript">
					document.getElementById('botao1').addEventListener('click', () => {startchrono()}, true);
					document.getElementById('botao2').addEventListener('click', () => {
						stopchrono()
					}, true)
					var is_stop = false;
					var is_blank = false;
					 function stopchrono (){
					 	is_stop = true;	
						return  is_stop;
					}
					function startchrono(){
						let timer = document.getElementById('input').value;
					    let display_cronometro = document.getElementById('timer');
						var timer_funct = {
							seconds : 0,
							minutes : 0,
							hours : 0,
						};
						timer_funct.hours = parseInt(timer.substring(0,2), 10);
						timer_funct.minutes = parseInt(timer.substring(3,5), 10);
						timer_funct.seconds = parseInt(timer.substring(6,8), 10);
						
						display_cronometro.innerHTML = timer;
						if (timer === ''){
							alert('Insira o valor do tipo HH:MM:SS');
							is_blank = true;
						}
						var interval = setInterval(function(){
							if (is_blank === true){
								clearInterval(interval);
								document.location.reload(true);
							}
							timer_funct.seconds--;
							if(timer_funct.seconds == 0){
								timer_funct.minutes--;
								timer_funct.seconds = 60;
								if (timer_funct.minutes == 0) {
									timer_funct.hours--;
									timer_funct.minutes = 59;
								}
							}
							if (timer_funct.hours < 10 && timer_funct.minutes < 10 && timer_funct.seconds < 10){
								display_cronometro.innerHTML = '0' + timer_funct.hours+ ':' + '0' + timer_funct.minutes + ':' + '0' + timer_funct.seconds;
							}
							else if (timer_funct.hours < 10 && timer_funct.minutes < 10){
								display_cronometro.innerHTML = '0' + timer_funct.hours + ':' + '0'+ timer_funct.minutes + ':' + timer_funct.seconds;
							}
							else if (timer_funct.hours < 10 && timer_funct.seconds < 10){
								display_cronometro.innerHTML = '0' + timer_funct.hours + ':' + timer_funct.minutes + ':' + '0' + timer_funct.seconds;
							}
							else if (timer_funct.minutes < 10 && timer_funct.seconds< 10){
								display_cronometro.innerHTML =   timer_funct.hours + ':' + '0'+ timer_funct.minutes + ':' + '0' + timer_funct.seconds;
							}
							else {
								display_cronometro.innerHTML =  + timer_funct.hours + ':' + + timer_funct.minutes + ':' + timer_funct.seconds;
							}
							if (is_stop == true){
								clearInterval(interval);
							}
						}, 1000);
						
					}
		</script>
			</div>
		</main>
	</header>	
</body>
</html>
